{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/khatnaa/Desktop/project/src/_metronic/layout/components/extras/dropdowns/search/SearchDropdown.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport clsx from \"clsx\";\nimport { Dropdown, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport SVG from \"react-inlinesvg\";\nimport objectPath from \"object-path\";\nimport { useHtmlClassService } from \"../../../../_core/MetronicLayout\";\nimport { SearchResult } from \"./SearchResult\";\nimport { toAbsoluteUrl } from \"../../../../../_helpers\";\nimport { DropdownTopbarItemToggler } from \"../../../../../_partials/dropdowns\";\nconst fakeData = [{\n  type: 0,\n  text: \"Reports\"\n}, {\n  type: 1,\n  text: \"AirPlus Requirements\",\n  description: \"by Grog John\",\n  iconImage: toAbsoluteUrl(\"/media/files/doc.svg\")\n}, {\n  type: 1,\n  text: \"TechNav Documentation\",\n  description: \"by Mary Brown\",\n  iconImage: toAbsoluteUrl(\"/media/files/pdf.svg\")\n}, {\n  type: 1,\n  text: \"All Framework Docs\",\n  description: \"by Grog John\",\n  iconImage: toAbsoluteUrl(\"/media/files/zip.svg\")\n}, {\n  type: 1,\n  text: \"AirPlus Requirements\",\n  description: \"by Tim Hardy\",\n  iconImage: toAbsoluteUrl(\"/media/files/xml.svg\")\n}, {\n  text: \"Customers\",\n  type: 0\n}, {\n  type: 1,\n  text: \"Jimmy Curry\",\n  description: \"Software Developer\",\n  iconImage: toAbsoluteUrl(\"/media/users/300_11.jpg\")\n}, {\n  type: 1,\n  text: \"Milena Gibson\",\n  description: \"UI Designer\",\n  iconImage: toAbsoluteUrl(\"/media/users/300_16.jpg\")\n}, {\n  type: 1,\n  text: \"Stefan JohnStefan\",\n  description: \"Marketing Manager\",\n  iconImage: toAbsoluteUrl(\"/media/users/300_22.jpg\")\n}, {\n  type: 1,\n  text: \"Anna Strong\",\n  description: \"Software Developer\",\n  iconImage: toAbsoluteUrl(\"/media/users/300_5.jpg\")\n}, {\n  type: 0,\n  text: \"Files\"\n}, {\n  type: 1,\n  text: \"2 New items submitted\",\n  description: \"Marketing Manager\",\n  iconClassName: \"flaticon2-box font-danger\"\n}, {\n  type: 1,\n  text: \"79 PSD files generated\",\n  description: \"by Grog John\",\n  iconClassName: \"flaticon-psd font-brand\"\n}, {\n  type: 1,\n  text: \"$2900 worth products sold\",\n  description: \"Total 234 items\",\n  iconClassName: \"flaticon2-supermarket font-warning\"\n}, {\n  type: 1,\n  text: \"4 New items submitted\",\n  description: \"Marketing Manager\",\n  iconClassName: \"flaticon-safe-shield-protection font-info\"\n}];\nexport function SearchDropdown() {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState(null);\n  const [searchValue, setSearchValue] = useState(\"\");\n  let timeoutId;\n\n  const clearTimeout = () => {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      timeoutId = undefined;\n    }\n  };\n\n  const handleSearchChange = event => {\n    setData(null);\n    setSearchValue(event.target.value);\n\n    if (event.target.value.length > 2) {\n      clearTimeout();\n      setLoading(true); // simulate getting search result\n\n      timeoutId = setTimeout(() => {\n        setData(fakeData);\n        setLoading(false);\n      }, 500);\n    }\n  };\n\n  const clear = () => {\n    setData(null);\n    setSearchValue(\"\");\n  };\n\n  useEffect(() => {\n    return () => {\n      clearTimeout();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const uiService = useHtmlClassService();\n  const layoutProps = useMemo(() => {\n    return {\n      offcanvas: objectPath.get(uiService.config, \"extras.search.layout\") === \"offcanvas\"\n    };\n  }, [uiService]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [layoutProps.offcanvas && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"topbar-item\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn btn-icon btn-clean btn-lg mr-1\",\n        id: \"kt_quick_search_toggle\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"svg-icon svg-icon-xl svg-icon-primary\",\n          children: /*#__PURE__*/_jsxDEV(SVG, {\n            src: toAbsoluteUrl(\"/media/svg/icons/General/Search.svg\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }, this), !layoutProps.offcanvas && /*#__PURE__*/_jsxDEV(Dropdown, {\n      alignRight: true,\n      drop: \"down\",\n      onToggle: () => {\n        setData(null);\n        setLoading(false);\n        setSearchValue(\"\");\n      },\n      id: \"kt_quick_search_toggle\",\n      children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n        as: DropdownTopbarItemToggler,\n        children: /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n          placement: \"bottom\",\n          overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n            id: \"search-panel-tooltip\",\n            children: \"Quick search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 24\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn btn-icon btn-clean btn-lg btn-dropdown mr-1\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"svg-icon svg-icon-xl svg-icon-primary\",\n              children: /*#__PURE__*/_jsxDEV(SVG, {\n                src: toAbsoluteUrl(\"/media/svg/icons/General/Search.svg\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n        className: \"dropdown-menu p-0 m-0 dropdown-menu-right dropdown-menu-anim-up dropdown-menu-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"kt_quick_search_dropdown\",\n          className: clsx(\"quick-search quick-search-dropdown\", {\n            \"quick-search-has-result\": data && data.length\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"quick-search-form\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `input-group-prepend`,\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"input-group-text\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"svg-icon svg-icon-lg\",\n                    children: /*#__PURE__*/_jsxDEV(SVG, {\n                      src: toAbsoluteUrl(\"/media/svg/icons/General/Search.svg\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 199,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                autoFocus: true,\n                placeholder: \"Search...\",\n                value: searchValue,\n                onChange: handleSearchChange,\n                className: \"form-control\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `input-group-append ${loading ? \"spinner spinner-sm spinner-primary\" : \"\"}\")}`,\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"input-group-text\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    style: {\n                      display: loading && searchValue && searchValue.length > 0 ? \"none\" : \"flex\"\n                    },\n                    onClick: clear,\n                    className: \"quick-search-close ki ki-close icon-sm text-muted\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SearchResult, {\n            data: data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SearchDropdown, \"mpqVthutAsqf6QaJwrlsnVW/RTI=\", false, function () {\n  return [useHtmlClassService];\n});\n\n_c = SearchDropdown;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchDropdown\");","map":{"version":3,"sources":["/home/khatnaa/Desktop/project/src/_metronic/layout/components/extras/dropdowns/search/SearchDropdown.js"],"names":["React","useEffect","useState","useMemo","clsx","Dropdown","OverlayTrigger","Tooltip","SVG","objectPath","useHtmlClassService","SearchResult","toAbsoluteUrl","DropdownTopbarItemToggler","fakeData","type","text","description","iconImage","iconClassName","SearchDropdown","loading","setLoading","data","setData","searchValue","setSearchValue","timeoutId","clearTimeout","undefined","handleSearchChange","event","target","value","length","setTimeout","clear","uiService","layoutProps","offcanvas","get","config","display"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { Dropdown, OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport objectPath from \"object-path\";\r\nimport { useHtmlClassService } from \"../../../../_core/MetronicLayout\";\r\nimport { SearchResult } from \"./SearchResult\";\r\nimport { toAbsoluteUrl } from \"../../../../../_helpers\";\r\nimport { DropdownTopbarItemToggler } from \"../../../../../_partials/dropdowns\";\r\nconst fakeData = [\r\n  {\r\n    type: 0,\r\n    text: \"Reports\",\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"AirPlus Requirements\",\r\n    description: \"by Grog John\",\r\n    iconImage: toAbsoluteUrl(\"/media/files/doc.svg\"),\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"TechNav Documentation\",\r\n    description: \"by Mary Brown\",\r\n    iconImage: toAbsoluteUrl(\"/media/files/pdf.svg\"),\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"All Framework Docs\",\r\n    description: \"by Grog John\",\r\n    iconImage: toAbsoluteUrl(\"/media/files/zip.svg\"),\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"AirPlus Requirements\",\r\n    description: \"by Tim Hardy\",\r\n    iconImage: toAbsoluteUrl(\"/media/files/xml.svg\"),\r\n  },\r\n  {\r\n    text: \"Customers\",\r\n    type: 0,\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"Jimmy Curry\",\r\n    description: \"Software Developer\",\r\n    iconImage: toAbsoluteUrl(\"/media/users/300_11.jpg\"),\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"Milena Gibson\",\r\n    description: \"UI Designer\",\r\n    iconImage: toAbsoluteUrl(\"/media/users/300_16.jpg\"),\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"Stefan JohnStefan\",\r\n    description: \"Marketing Manager\",\r\n    iconImage: toAbsoluteUrl(\"/media/users/300_22.jpg\"),\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"Anna Strong\",\r\n    description: \"Software Developer\",\r\n    iconImage: toAbsoluteUrl(\"/media/users/300_5.jpg\"),\r\n  },\r\n  {\r\n    type: 0,\r\n    text: \"Files\",\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"2 New items submitted\",\r\n    description: \"Marketing Manager\",\r\n    iconClassName: \"flaticon2-box font-danger\",\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"79 PSD files generated\",\r\n    description: \"by Grog John\",\r\n    iconClassName: \"flaticon-psd font-brand\",\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"$2900 worth products sold\",\r\n    description: \"Total 234 items\",\r\n    iconClassName: \"flaticon2-supermarket font-warning\",\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"4 New items submitted\",\r\n    description: \"Marketing Manager\",\r\n    iconClassName: \"flaticon-safe-shield-protection font-info\",\r\n  },\r\n];\r\n\r\nexport function SearchDropdown() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState(null);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  let timeoutId;\r\n\r\n  const clearTimeout = () => {\r\n    if (timeoutId) {\r\n      clearTimeout(timeoutId);\r\n      timeoutId = undefined;\r\n    }\r\n  };\r\n\r\n  const handleSearchChange = (event) => {\r\n    setData(null);\r\n    setSearchValue(event.target.value);\r\n\r\n    if (event.target.value.length > 2) {\r\n      clearTimeout();\r\n\r\n      setLoading(true);\r\n\r\n      // simulate getting search result\r\n      timeoutId = setTimeout(() => {\r\n        setData(fakeData);\r\n        setLoading(false);\r\n      }, 500);\r\n    }\r\n  };\r\n\r\n  const clear = () => {\r\n    setData(null);\r\n    setSearchValue(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      clearTimeout();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const uiService = useHtmlClassService();\r\n  const layoutProps = useMemo(() => {\r\n    return {\r\n      offcanvas:\r\n        objectPath.get(uiService.config, \"extras.search.layout\") ===\r\n        \"offcanvas\",\r\n    };\r\n  }, [uiService]);\r\n\r\n  return (\r\n    <>\r\n      {layoutProps.offcanvas && (\r\n        <div className=\"topbar-item\">\r\n          <div\r\n            className=\"btn btn-icon btn-clean btn-lg mr-1\"\r\n            id=\"kt_quick_search_toggle\"\r\n          >\r\n            <span className=\"svg-icon svg-icon-xl svg-icon-primary\">\r\n              <SVG src={toAbsoluteUrl(\"/media/svg/icons/General/Search.svg\")} />\r\n            </span>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {!layoutProps.offcanvas && (\r\n        <Dropdown\r\n          alignRight\r\n          drop=\"down\"\r\n          onToggle={() => {\r\n            setData(null);\r\n            setLoading(false);\r\n            setSearchValue(\"\");\r\n          }}\r\n          id=\"kt_quick_search_toggle\"\r\n        >\r\n          <Dropdown.Toggle as={DropdownTopbarItemToggler}>\r\n            <OverlayTrigger\r\n              placement=\"bottom\"\r\n              overlay={<Tooltip id=\"search-panel-tooltip\">Quick search</Tooltip>}\r\n            >\r\n              <div className=\"btn btn-icon btn-clean btn-lg btn-dropdown mr-1\">\r\n                <span className=\"svg-icon svg-icon-xl svg-icon-primary\">\r\n                  <SVG\r\n                    src={toAbsoluteUrl(\"/media/svg/icons/General/Search.svg\")}\r\n                  />\r\n                </span>\r\n              </div>\r\n            </OverlayTrigger>\r\n          </Dropdown.Toggle>\r\n          <Dropdown.Menu className=\"dropdown-menu p-0 m-0 dropdown-menu-right dropdown-menu-anim-up dropdown-menu-lg\">\r\n            <div\r\n              id=\"kt_quick_search_dropdown\"\r\n              className={clsx(\"quick-search quick-search-dropdown\", {\r\n                \"quick-search-has-result\": data && data.length,\r\n              })}\r\n            >\r\n              <form className=\"quick-search-form\">\r\n                <div className=\"input-group\">\r\n                  <div className={`input-group-prepend`}>\r\n                    <span className=\"input-group-text\">\r\n                      <span className=\"svg-icon svg-icon-lg\">\r\n                        <SVG\r\n                          src={toAbsoluteUrl(\r\n                            \"/media/svg/icons/General/Search.svg\"\r\n                          )}\r\n                        />\r\n                      </span>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    autoFocus={true}\r\n                    placeholder=\"Search...\"\r\n                    value={searchValue}\r\n                    onChange={handleSearchChange}\r\n                    className=\"form-control\"\r\n                  />\r\n\r\n                  <div\r\n                    className={`input-group-append ${\r\n                      loading ? \"spinner spinner-sm spinner-primary\" : \"\"\r\n                    }\")}`}\r\n                  >\r\n                    <span className=\"input-group-text\">\r\n                      <i\r\n                        style={{\r\n                          display:\r\n                            loading && searchValue && searchValue.length > 0\r\n                              ? \"none\"\r\n                              : \"flex\",\r\n                        }}\r\n                        onClick={clear}\r\n                        className=\"quick-search-close ki ki-close icon-sm text-muted\"\r\n                      />\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n              <SearchResult data={data} />\r\n            </div>\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}