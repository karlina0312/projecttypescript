{"ast":null,"code":"// eslint-disable-next-line\nimport specificationTableMock from \"./specificationTableMock\";\nimport MockUtils from \"./mock.utils\";\nexport default function mockSpecifications(mock) {\n  mock.onPost(\"api/specifications\").reply(({\n    data\n  }) => {\n    const {\n      specification\n    } = JSON.parse(data);\n    const {\n      carId,\n      value = \"\",\n      specId\n    } = specification;\n    const id = generateSpecificationId();\n    const newSpecification = {\n      id,\n      carId: +carId,\n      value,\n      specId: +specId\n    };\n    specificationTableMock.push(newSpecification);\n    return [200, {\n      specification: newSpecification\n    }];\n  });\n  mock.onPost(/api\\/specificationsfind\\/\\d+/).reply(config => {\n    const urls = config.url.split(\"/\");\n    const id = urls[2];\n    const mockUtils = new MockUtils();\n    const {\n      queryParams\n    } = JSON.parse(config.data);\n    const specifications = specificationTableMock.filter(el => el.carId === +id);\n    const result = [];\n    specifications.forEach(el => result.push(wrapSpecification(el)));\n    const filterdSpecifications = mockUtils.baseFilter(result, queryParams);\n    return [200, filterdSpecifications];\n  });\n  mock.onPost(\"api/specifications/deleteSpecifications\").reply(config => {\n    const {\n      ids\n    } = JSON.parse(config.data);\n    ids.forEach(id => {\n      const index = specificationTableMock.findIndex(el => el.id === id);\n\n      if (index > -1) {\n        specificationTableMock.splice(index, 1);\n      }\n    });\n    return [200];\n  });\n  mock.onGet(/api\\/specifications\\/\\d+/).reply(config => {\n    const id = config.url.match(/api\\/specifications\\/(\\d+)/)[1];\n    const spec = specificationTableMock.find(el => el.id === +id);\n\n    if (!spec) {\n      return [400];\n    }\n\n    const specification = wrapSpecification(spec);\n    return [200, specification];\n  });\n  mock.onPut(/api\\/specifications\\/\\d+/).reply(config => {\n    const id = config.url.match(/api\\/specifications\\/(\\d+)/)[1];\n    const {\n      specification\n    } = JSON.parse(config.data);\n    const index = specificationTableMock.findIndex(el => el.id === +id);\n\n    if (!index) {\n      return [400];\n    }\n\n    specificationTableMock[index] = { ...specification\n    };\n    return [200];\n  });\n  mock.onDelete(/api\\/specifications\\/\\d+/).reply(config => {\n    const id = config.url.match(/api\\/specifications\\/(\\d+)/)[1];\n    const index = specificationTableMock.findIndex(el => el.id === +id);\n    specificationTableMock.splice(index, 1);\n\n    if (!index === -1) {\n      return [400];\n    }\n\n    return [200];\n  });\n}\n\nfunction generateSpecificationId() {\n  const ids = specificationTableMock.map(el => el.id);\n  const maxId = Math.max(...ids);\n  return maxId + 1;\n}\n\nfunction wrapSpecification(specification) {\n  const newSpec = { ...specification\n  };\n  newSpec.name = getSpecNameById(newSpec.specId);\n  return newSpec;\n}\n\nfunction getSpecNameById(specId) {\n  const specs = [\"Seats\", \"Fuel Type\", \"Stock\", \"Door count\", \"Engine\", \"Transmission\", \"Drivetrain\", \"Combined MPG\", \"Warranty\", \"Wheels\"];\n  return specs[specId];\n}","map":{"version":3,"sources":["/home/khatnaa/Desktop/project/src/app/modules/ECommerce/__mocks__/mockSpecification.tsx"],"names":["specificationTableMock","MockUtils","mockSpecifications","mock","onPost","reply","data","specification","JSON","parse","carId","value","specId","id","generateSpecificationId","newSpecification","push","config","urls","url","split","mockUtils","queryParams","specifications","filter","el","result","forEach","wrapSpecification","filterdSpecifications","baseFilter","ids","index","findIndex","splice","onGet","match","spec","find","onPut","onDelete","map","maxId","Math","max","newSpec","name","getSpecNameById","specs"],"mappings":"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","sourcesContent":["// eslint-disable-next-line\r\nimport specificationTableMock from \"./specificationTableMock\";\r\nimport MockUtils from \"./mock.utils\";\r\n\r\nexport default function mockSpecifications(mock) {\r\n  mock.onPost(\"api/specifications\").reply(({ data }) => {\r\n    const { specification } = JSON.parse(data);\r\n    const { carId, value = \"\", specId } = specification;\r\n    const id = generateSpecificationId();\r\n    const newSpecification = {\r\n      id,\r\n      carId: +carId,\r\n      value,\r\n      specId: +specId\r\n    };\r\n    specificationTableMock.push(newSpecification);\r\n    return [200, { specification: newSpecification }];\r\n  });\r\n\r\n  mock.onPost(/api\\/specificationsfind\\/\\d+/).reply(config => {\r\n    const urls = config.url.split(\"/\");\r\n    const id = urls[2];\r\n    const mockUtils = new MockUtils();\r\n    const { queryParams } = JSON.parse(config.data);\r\n    const specifications = specificationTableMock.filter(\r\n      el => el.carId === +id\r\n    );\r\n    const result = [];\r\n    specifications.forEach(el => result.push(wrapSpecification(el)));\r\n    const filterdSpecifications = mockUtils.baseFilter(result, queryParams);\r\n\r\n    return [200, filterdSpecifications];\r\n  });\r\n\r\n  mock.onPost(\"api/specifications/deleteSpecifications\").reply(config => {\r\n    const { ids } = JSON.parse(config.data);\r\n    ids.forEach(id => {\r\n      const index = specificationTableMock.findIndex(el => el.id === id);\r\n      if (index > -1) {\r\n        specificationTableMock.splice(index, 1);\r\n      }\r\n    });\r\n    return [200];\r\n  });\r\n\r\n  mock.onGet(/api\\/specifications\\/\\d+/).reply(config => {\r\n    const id = config.url.match(/api\\/specifications\\/(\\d+)/)[1];\r\n    const spec = specificationTableMock.find(el => el.id === +id);\r\n    if (!spec) {\r\n      return [400];\r\n    }\r\n\r\n    const specification = wrapSpecification(spec);\r\n\r\n    return [200, specification];\r\n  });\r\n\r\n  mock.onPut(/api\\/specifications\\/\\d+/).reply(config => {\r\n    const id = config.url.match(/api\\/specifications\\/(\\d+)/)[1];\r\n    const { specification } = JSON.parse(config.data);\r\n    const index = specificationTableMock.findIndex(el => el.id === +id);\r\n    if (!index) {\r\n      return [400];\r\n    }\r\n\r\n    specificationTableMock[index] = { ...specification };\r\n    return [200];\r\n  });\r\n\r\n  mock.onDelete(/api\\/specifications\\/\\d+/).reply(config => {\r\n    const id = config.url.match(/api\\/specifications\\/(\\d+)/)[1];\r\n    const index = specificationTableMock.findIndex(el => el.id === +id);\r\n    specificationTableMock.splice(index, 1);\r\n    if (!index === -1) {\r\n      return [400];\r\n    }\r\n\r\n    return [200];\r\n  });\r\n}\r\n\r\nfunction generateSpecificationId() {\r\n  const ids = specificationTableMock.map(el => el.id);\r\n  const maxId = Math.max(...ids);\r\n  return maxId + 1;\r\n}\r\n\r\nfunction wrapSpecification(specification) {\r\n  const newSpec = { ...specification };\r\n  newSpec.name = getSpecNameById(newSpec.specId);\r\n  return newSpec;\r\n}\r\n\r\nfunction getSpecNameById(specId) {\r\n  const specs = [\r\n    \"Seats\",\r\n    \"Fuel Type\",\r\n    \"Stock\",\r\n    \"Door count\",\r\n    \"Engine\",\r\n    \"Transmission\",\r\n    \"Drivetrain\",\r\n    \"Combined MPG\",\r\n    \"Warranty\",\r\n    \"Wheels\"\r\n  ];\r\n  return specs[specId];\r\n}\r\n"]},"metadata":{},"sourceType":"module"}