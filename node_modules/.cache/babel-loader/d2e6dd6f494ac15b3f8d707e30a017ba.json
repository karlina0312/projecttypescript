{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/khatnaa/Desktop/project/src/app/modules/ECommerce/pages/products/product-edit/ProductEdit.tsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,jsx-a11y/role-supports-aria-props */\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport * as actions from \"../../../_redux/products/productsActions\";\nimport { Card, CardBody, CardHeader, CardHeaderToolbar } from \"../../../../../../_metronic/_partials/controls\";\nimport { ProductEditForm } from \"./ProductEditForm\";\nimport { Specifications } from \"../product-specifications/Specifications\";\nimport { SpecificationsUIProvider } from \"../product-specifications/SpecificationsUIContext\";\nimport { useSubheader } from \"../../../../../../_metronic/layout\";\nimport { ModalProgressBar } from \"../../../../../../_metronic/_partials/controls\";\nimport { RemarksUIProvider } from \"../product-remarks/RemarksUIContext\";\nimport { Remarks } from \"../product-remarks/Remarks\";\nconst initProduct = {\n  id: undefined,\n  model: \"\",\n  manufacture: \"Pontiac\",\n  modelYear: 2020,\n  mileage: 0,\n  description: \"\",\n  color: \"Red\",\n  price: 10000,\n  condition: 1,\n  status: 0,\n  VINCode: \"\"\n};\nexport function ProductEdit({\n  history,\n  match: {\n    params: {\n      id\n    }\n  }\n}) {\n  _s();\n\n  // Subheader\n  const suhbeader = useSubheader(); // Tabs\n\n  const [tab, setTab] = useState(\"basic\");\n  const [title, setTitle] = useState(\"\");\n  const dispatch = useDispatch(); // const layoutDispatch = useContext(LayoutContext.Dispatch);\n\n  const {\n    actionsLoading,\n    productForEdit\n  } = useSelector(state => ({\n    actionsLoading: state.products.actionsLoading,\n    productForEdit: state.products.productForEdit\n  }), shallowEqual);\n  useEffect(() => {\n    dispatch(actions.fetchProduct(id));\n  }, [id, dispatch]);\n  useEffect(() => {\n    let _title = id ? \"\" : \"New Product\";\n\n    if (productForEdit && id) {\n      _title = `Edit product '${productForEdit.manufacture} ${productForEdit.model} - ${productForEdit.modelYear}'`;\n    }\n\n    setTitle(_title);\n    suhbeader.setTitle(_title); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [productForEdit, id]);\n\n  const saveProduct = values => {\n    if (!id) {\n      dispatch(actions.createProduct(values)).then(() => backToProductsList());\n    } else {\n      dispatch(actions.updateProduct(values)).then(() => backToProductsList());\n    }\n  };\n\n  const btnRef = useRef();\n\n  const saveProductClick = () => {\n    if (btnRef && btnRef.current) {\n      btnRef.current.click();\n    }\n  };\n\n  const backToProductsList = () => {\n    history.push(`/e-commerce/products`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [actionsLoading && /*#__PURE__*/_jsxDEV(ModalProgressBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(CardHeader, {\n      title: title,\n      children: /*#__PURE__*/_jsxDEV(CardHeaderToolbar, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: backToProductsList,\n          className: \"btn btn-light\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-arrow-left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), \"\\u0411\\u0443\\u0446\\u0430\\u0445\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), `  `, /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-light ml-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-redo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), \"\\u0428\\u0438\\u043D\\u044D\\u0447\\u043B\\u044D\\u0445\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), `  `, /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary ml-2\",\n          onClick: saveProductClick,\n          children: \"\\u0425\\u0430\\u0434\\u0433\\u0430\\u043B\\u0430\\u0445\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"nav nav-tabs nav-tabs-line \",\n        role: \"tablist\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"nav-item\",\n          onClick: () => setTab(\"basic\"),\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: `nav-link ${tab === \"basic\" && \"active\"}`,\n            \"data-toggle\": \"tab\",\n            role: \"tab\",\n            \"aria-selected\": (tab === \"basic\").toString(),\n            children: \"\\u04AE\\u043D\\u0434\\u0441\\u044D\\u043D \\u043C\\u044D\\u0434\\u044D\\u044D\\u043B\\u044D\\u043B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), id && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            onClick: () => setTab(\"remarks\"),\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: `nav-link ${tab === \"remarks\" && \"active\"}`,\n              \"data-toggle\": \"tab\",\n              role: \"button\",\n              \"aria-selected\": (tab === \"remarks\").toString(),\n              children: \"\\u0411\\u04AF\\u0442\\u044D\\u044D\\u0433\\u0434\\u044D\\u0445\\u04AF\\u04AF\\u043D\\u0438\\u0439 \\u0442\\u0430\\u0439\\u043B\\u0431\\u0430\\u0440\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            onClick: () => setTab(\"specs\"),\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: `nav-link ${tab === \"specs\" && \"active\"}`,\n              \"data-toggle\": \"tab\",\n              role: \"tab\",\n              \"aria-selected\": (tab === \"specs\").toString(),\n              children: \"\\u0411\\u04AF\\u0442\\u044D\\u044D\\u0433\\u0434\\u044D\\u0445\\u04AF\\u04AF\\u043D\\u0438\\u0439 \\u0442\\u043E\\u0434\\u043E\\u0440\\u0445\\u043E\\u0439\\u043B\\u043E\\u043B\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-5\",\n        children: [tab === \"basic\" && /*#__PURE__*/_jsxDEV(ProductEditForm, {\n          actionsLoading: actionsLoading,\n          product: productForEdit || initProduct,\n          btnRef: btnRef,\n          saveProduct: saveProduct\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this), tab === \"remarks\" && id && /*#__PURE__*/_jsxDEV(RemarksUIProvider, {\n          currentProductId: id,\n          children: /*#__PURE__*/_jsxDEV(Remarks, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), tab === \"specs\" && id && /*#__PURE__*/_jsxDEV(SpecificationsUIProvider, {\n          currentProductId: id,\n          children: /*#__PURE__*/_jsxDEV(Specifications, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProductEdit, \"JXj4FhWrpzhJuoJ3+mW/LnrhMiM=\", false, function () {\n  return [useSubheader, useDispatch, useSelector];\n});\n\n_c = ProductEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductEdit\");","map":{"version":3,"sources":["/home/khatnaa/Desktop/project/src/app/modules/ECommerce/pages/products/product-edit/ProductEdit.tsx"],"names":["React","useEffect","useState","useRef","useDispatch","shallowEqual","useSelector","actions","Card","CardBody","CardHeader","CardHeaderToolbar","ProductEditForm","Specifications","SpecificationsUIProvider","useSubheader","ModalProgressBar","RemarksUIProvider","Remarks","initProduct","id","undefined","model","manufacture","modelYear","mileage","description","color","price","condition","status","VINCode","ProductEdit","history","match","params","suhbeader","tab","setTab","title","setTitle","dispatch","actionsLoading","productForEdit","state","products","fetchProduct","_title","saveProduct","values","createProduct","then","backToProductsList","updateProduct","btnRef","saveProductClick","current","click","push","toString"],"mappings":"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","sourcesContent":["/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,jsx-a11y/role-supports-aria-props */\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport * as actions from \"../../../_redux/products/productsActions\";\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  CardHeaderToolbar,\r\n} from \"../../../../../../_metronic/_partials/controls\";\r\nimport { ProductEditForm } from \"./ProductEditForm\";\r\nimport { Specifications } from \"../product-specifications/Specifications\";\r\nimport { SpecificationsUIProvider } from \"../product-specifications/SpecificationsUIContext\";\r\nimport { useSubheader } from \"../../../../../../_metronic/layout\";\r\nimport { ModalProgressBar } from \"../../../../../../_metronic/_partials/controls\";\r\nimport { RemarksUIProvider } from \"../product-remarks/RemarksUIContext\";\r\nimport { Remarks } from \"../product-remarks/Remarks\";\r\n\r\nconst initProduct = {\r\n  id: undefined,\r\n  model: \"\",\r\n  manufacture: \"Pontiac\",\r\n  modelYear: 2020,\r\n  mileage: 0,\r\n  description: \"\",\r\n  color: \"Red\",\r\n  price: 10000,\r\n  condition: 1,\r\n  status: 0,\r\n  VINCode: \"\",\r\n};\r\n\r\nexport function ProductEdit({\r\n  history,\r\n  match: {\r\n    params: { id },\r\n  },\r\n}) {\r\n  // Subheader\r\n  const suhbeader = useSubheader();\r\n\r\n  // Tabs\r\n  const [tab, setTab] = useState(\"basic\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  // const layoutDispatch = useContext(LayoutContext.Dispatch);\r\n  const { actionsLoading, productForEdit } = useSelector(\r\n    (state) => ({\r\n      actionsLoading: state.products.actionsLoading,\r\n      productForEdit: state.products.productForEdit,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch(actions.fetchProduct(id));\r\n  }, [id, dispatch]);\r\n\r\n  useEffect(() => {\r\n    let _title = id ? \"\" : \"New Product\";\r\n    if (productForEdit && id) {\r\n      _title = `Edit product '${productForEdit.manufacture} ${productForEdit.model} - ${productForEdit.modelYear}'`;\r\n    }\r\n\r\n    setTitle(_title);\r\n    suhbeader.setTitle(_title);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [productForEdit, id]);\r\n\r\n  const saveProduct = (values) => {\r\n    if (!id) {\r\n      dispatch(actions.createProduct(values)).then(() => backToProductsList());\r\n    } else {\r\n      dispatch(actions.updateProduct(values)).then(() => backToProductsList());\r\n    }\r\n  };\r\n\r\n  const btnRef = useRef();  \r\n  const saveProductClick = () => {\r\n    if (btnRef && btnRef.current) {\r\n      btnRef.current.click();\r\n    }\r\n  };\r\n\r\n  const backToProductsList = () => {\r\n    history.push(`/e-commerce/products`);\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      {actionsLoading && <ModalProgressBar />}\r\n      <CardHeader title={title}>\r\n        <CardHeaderToolbar>\r\n          <button\r\n            type=\"button\"\r\n            onClick={backToProductsList}\r\n            className=\"btn btn-light\"\r\n          >\r\n            <i className=\"fa fa-arrow-left\"></i>\r\n            Буцах\r\n          </button>\r\n          {`  `}\r\n          <button className=\"btn btn-light ml-2\">\r\n            <i className=\"fa fa-redo\"></i>\r\n            Шинэчлэх\r\n          </button>\r\n          {`  `}\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-primary ml-2\"\r\n            onClick={saveProductClick}\r\n          >\r\n            Хадгалах\r\n          </button>\r\n        </CardHeaderToolbar>\r\n      </CardHeader>\r\n      <CardBody>\r\n        <ul className=\"nav nav-tabs nav-tabs-line \" role=\"tablist\">\r\n          <li className=\"nav-item\" onClick={() => setTab(\"basic\")}>\r\n            <a\r\n              className={`nav-link ${tab === \"basic\" && \"active\"}`}\r\n              data-toggle=\"tab\"\r\n              role=\"tab\"\r\n              aria-selected={(tab === \"basic\").toString()}\r\n            >\r\n              Үндсэн мэдээлэл\r\n            </a>\r\n          </li>\r\n          {id && (\r\n            <>\r\n              {\" \"}\r\n              <li className=\"nav-item\" onClick={() => setTab(\"remarks\")}>\r\n                <a\r\n                  className={`nav-link ${tab === \"remarks\" && \"active\"}`}\r\n                  data-toggle=\"tab\"\r\n                  role=\"button\"\r\n                  aria-selected={(tab === \"remarks\").toString()}\r\n                >\r\n                  Бүтээгдэхүүний тайлбар\r\n                </a>\r\n              </li>\r\n              <li className=\"nav-item\" onClick={() => setTab(\"specs\")}>\r\n                <a\r\n                  className={`nav-link ${tab === \"specs\" && \"active\"}`}\r\n                  data-toggle=\"tab\"\r\n                  role=\"tab\"\r\n                  aria-selected={(tab === \"specs\").toString()}\r\n                >\r\n                  Бүтээгдэхүүний тодорхойлолт\r\n                </a>\r\n              </li>\r\n            </>\r\n          )}\r\n        </ul>\r\n        <div className=\"mt-5\">\r\n          {tab === \"basic\" && (\r\n            <ProductEditForm\r\n              actionsLoading={actionsLoading}\r\n              product={productForEdit || initProduct}\r\n              btnRef={btnRef}\r\n              saveProduct={saveProduct}\r\n            />\r\n          )}\r\n          {tab === \"remarks\" && id && (\r\n            <RemarksUIProvider currentProductId={id}>\r\n              <Remarks />\r\n            </RemarksUIProvider>\r\n          )}\r\n          {tab === \"specs\" && id && (\r\n            <SpecificationsUIProvider currentProductId={id}>\r\n              <Specifications />\r\n            </SpecificationsUIProvider>\r\n          )}\r\n        </div>\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}